---
// NavBar component - main container with animations
import DesktopNavbar from './DesktopNavbar.astro';
import MobileNavbar from './MobileNavbar.astro';

const navItems = [
  {
    title: "Features",
    link: "/features",
  },
  {
    title: "Early Access",
    link: "/early-access",
  },
  {
    title: "Blog",
    link: "/blog",
  },
  {
    title: "Contact",
    link: "/contact",
  },
];
---
<!-- TODO: Add Blog section + Contact form section -->
<nav class="max-w-7xl fixed top-4 mx-auto inset-x-0 z-50 w-[95%] lg:w-full" id="top-nav">
  <div class="hidden lg:block w-full">
    <DesktopNavbar navItems={navItems} />
  </div>
  <div class="flex h-full w-full items-center lg:hidden">
    <MobileNavbar navItems={navItems} />
  </div>
</nav>

<script>
  import { animate } from 'motion';

  // Main nav animation - slide down from top using Motion.js
  const nav = document.getElementById('top-nav');
  if (nav) {
    // Set initial state
    nav.style.transform = 'translateY(-80px)';
    nav.style.opacity = '0';

    // Animate to final state using Motion.js
    animate(
      nav,
      {
        transform: 'translateY(0px)',
        opacity: 1
      },
      {
        type: "spring",
        stiffness: 300,
        damping: 30,
        duration: 0.8,
        delay: 0.1
      }
    );
  }
</script>