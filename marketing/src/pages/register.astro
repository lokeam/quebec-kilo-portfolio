---
import Layout from '@/layouts/Layout.astro';
import Logo from '@/components/Logo.astro';
import AnimatedInput from '@/components/ui/AnimatedInput.astro';
import BrandButton from '@/components/BrandButton.astro';
---

<Layout title="Register - QKO">
  <main class="min-h-screen flex items-center justify-center">
    <div class="max-w-lg mx-auto w-full px-4">

      <!-- Logo and Title -->
      <div class="flex flex-col text-center items-center justify-center mb-4">
          <Logo />
        <h1 class="text-xl md:text-4xl font-bold my-4 text-white">
          Join the waitlist
        </h1>
      </div>

      <!-- Social Login Buttons (Commented out as per template) -->
      <!-- Divider -->
      <div class="h-px bg-neutral-800 w-full my-6"></div>

      <!-- Registration Form -->
      <motion-form
        id="register-form"
        class="space-y-4"
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.8, delay: 0.2 }}
      >
        <AnimatedInput
          type="text"
          id="fullName"
          placeholder="John Doe"
          label="Full Name"
        />

        <AnimatedInput
          type="email"
          id="email"
          placeholder="john.doe@example.com"
          label="Email Address"
        />

        <!-- Submit Button -->
         <BrandButton
          variant="primary"
          size="md"
          href="/register"
          class="w-full"
        >
          Register for Early Access
        </BrandButton>
      </motion-form>

    </div>
  </main>
</Layout>

<script>
  import { animate, inView } from "motion";

  // Animate the form on page load
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('register-form');
    if (form) {
      animate(
        form,
        { opacity: [0, 1], y: [20, 0] },
        { duration: 0.8, delay: 0.2 }
      );
    }
  });

  // Handle form submission
  document.addEventListener('submit', (e) => {
    e.preventDefault();
    const form = e.target as HTMLFormElement;
    const formData = new FormData(form);

    // Log form data for now
    console.log('Form submitted:', Object.fromEntries(formData));

    // TODO: Implement actual registration logic
    alert('Registration functionality coming soon!');
  });
</script>

<style>
  @import '../styles/global.css';
</style>